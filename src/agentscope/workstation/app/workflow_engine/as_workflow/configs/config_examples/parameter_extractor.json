{
   "name": "",
   "type":"workflow",
   "config":{
      "nodes":[
         {
            "id":"Start_Ye2c",
            "name":"开始",
            "config":{
               "input_params":[

               ],
               "output_params":[
                  {
                     "key":"aaa",
                     "type":"String",
                     "desc":"",
                     "properties":[

                     ]
                  }
               ],
               "node_param":{

               }
            },
            "position":{
               "x":136.46089319795166,
               "y":-543.1586528230127
            },
            "width":320,
            "type":"Start"
         },
         {
            "id":"End_YuJ2",
            "name":"结束",
            "config":{
               "input_params":[

               ],
               "output_params":[

               ],
               "node_param":{
                  "output_type":"text",
                  "text_template":"${ParameterExtractor_QRxR.city}\n${ParameterExtractor_QRxR.date}\n${ParameterExtractor_QRxR._is_completed}\n${ParameterExtractor_QRxR._reason}",
                  "json_params":[
                     {
                        "key":"output",
                        "value_from":"refer",
                        "type":"String"
                     }
                  ],
                  "stream_switch":true
               }
            },
            "position":{
               "x":1265.1867482177006,
               "y":-853.2246037061158
            },
            "width":320,
            "type":"End"
         },
         {
            "id":"ParameterExtractor_QRxR",
            "name":"参数提取1",
            "config":{
               "input_params":[
                  {
                     "key":"input",
                     "value_from":"refer",
                     "type":"String",
                     "value":"${Start_Ye2c.aaa}"
                  }
               ],
               "output_params":[
                  {
                     "key":"city",
                     "type":"String",
                     "desc":"城市"
                  },
                  {
                     "key":"date",
                     "type":"String",
                     "desc":"日期"
                  },
                  {
                     "key":"_is_completed",
                     "type":"Boolean",
                     "desc":"是否完整解析"
                  },
                  {
                     "key":"_reason",
                     "type":"String",
                     "desc":"未成功解析的原因"
                  }
               ],
               "node_param":{
                  "model_config":{
                     "model_id":"qwen-max",
                     "model_name":"",
                     "mode":"chat",
                     "provider":"Tongyi",
                     "params":[

                     ],
                     "vision_config":{
                        "enable":false,
                        "params":[
                           {
                              "key":"imageContent",
                              "value_from":"refer",
                              "type":"File"
                           }
                        ]
                     }
                  },
                  "instruction":"你是一个参数提取助手。",
                  "extract_params":[
                     {
                        "key":"city",
                        "type":"String",
                        "required":true,
                        "desc":"城市"
                     },
                     {
                        "key":"date",
                        "type":"String",
                        "required":true,
                        "desc":"日期"
                     }
                  ],
                  "short_memory":{
                     "enabled":true,
                     "type":"self",
                     "round":3,
                     "param":{
                        "key":"historyList",
                        "type":"Array<String>",
                        "value_from":"refer"
                     }
                  }
               }
            },
            "position":{
               "x":672,
               "y":-755.6666666666666
            },
            "width":320,
            "type":"ParameterExtractor"
         }
      ],
      "edges":[
         {
            "id":"Start_Ye2c-Start_Ye2c-ParameterExtractor_QRxR-ParameterExtractor_QRxR",
            "source":"Start_Ye2c",
            "target":"ParameterExtractor_QRxR",
            "source_handle":"Start_Ye2c",
            "target_handle":"ParameterExtractor_QRxR"
         },
         {
            "id":"ParameterExtractor_QRxR-ParameterExtractor_QRxR-End_YuJ2-End_YuJ2",
            "source":"ParameterExtractor_QRxR",
            "target":"End_YuJ2",
            "source_handle":"ParameterExtractor_QRxR",
            "target_handle":"End_YuJ2"
         }
      ],
      "global_config":{
         "history_config":{
            "history_max_round":5,
            "history_switch":false
         },
         "variable_config":{
            "session_params":[

            ]
         },
         "inputs": {
            "sys": {},
            "user": {
              "aaa": "你好",
              "bbb": "bbbbb"
            }
         }
      }
   }
}