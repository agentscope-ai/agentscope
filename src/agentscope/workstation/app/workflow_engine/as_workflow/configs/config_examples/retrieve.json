{
   "name": "",
   "type":"workflow",
   "config":{
      "nodes":[
         {
            "id":"Start_Ye2c",
            "name":"开始",
            "config":{
               "input_params":[

               ],
               "output_params":[
                  {
                     "key":"aaa",
                     "type":"String",
                     "desc":""
                  }
               ],
               "node_param":{

               }
            },
            "position":{
               "x":12,
               "y":12
            },
            "width":320,
            "height":58,
            "type":"Start"
         },
         {
            "id":"End_YuJ2",
            "name":"结束",
            "config":{
               "input_params":[

               ],
               "output_params":[

               ],
               "node_param":{
                  "output_type":"text",
                  "text_template":"${Retrieval_7jjR.chunk_list}",
                  "json_params":[

                  ],
                  "stream_switch":false
               }
            },
            "position":{
               "x":952,
               "y":12
            },
            "width":320,
            "height":58,
            "type":"End"
         },
         {
            "id":"Retrieval_7jjR",
            "name":"知识库1",
            "config":{
               "input_params":[
                  {
                     "key":"input",
                     "value_from":"refer",
                     "type":"String",
                     "value":"${Start_Ye2c.aaa}"
                  }
               ],
               "output_params":[
                  {
                     "key":"chunk_list",
                     "type":"Array<Object>",
                     "properties":[
                        {
                           "key":"doc_id",
                           "type":"String"
                        },
                        {
                           "key":"doc_name",
                           "type":"String"
                        },
                        {
                           "key":"title",
                           "type":"String"
                        },
                        {
                           "key":"text",
                           "type":"String"
                        },
                        {
                           "key":"score",
                           "type":"Number"
                        },
                        {
                           "key":"page_number",
                           "type":"Number"
                        },
                        {
                           "key":"chunk_id",
                           "type":"String"
                        }
                     ]
                  }
               ],
               "node_param":{
                  "knowledge_base_ids":[
                     "5e98145c-8013-4787-8e6b-be7735e8b20d"
                  ],
                  "prompt_strategy":"",
                  "top_k":10,
                  "similarity_threshold":0.1,
                  "short_memory":{
                     "enabled":true,
                     "type":"self",
                     "round":3,
                     "param":{
                        "key":"historyList",
                        "type":"Array<String>",
                        "value_from":"refer"
                     }
                  }
               }
            },
            "position":{
               "x":482,
               "y":12
            },
            "width":320,
            "height":58,
            "type":"Retrieval"
         }
      ],
      "edges":[
         {
            "id":"Start_Ye2c-Start_Ye2c-Retrieval_7jjR-Retrieval_7jjR",
            "source":"Start_Ye2c",
            "target":"Retrieval_7jjR",
            "source_handle":"Start_Ye2c",
            "target_handle":"Retrieval_7jjR"
         },
         {
            "id":"Retrieval_7jjR-Retrieval_7jjR-End_YuJ2-End_YuJ2",
            "source":"Retrieval_7jjR",
            "target":"End_YuJ2",
            "source_handle":"Retrieval_7jjR",
            "target_handle":"End_YuJ2"
         }
      ],
      "global_config":{
         "history_config":{
            "history_max_round":5,
            "history_switch":false
         },
         "variable_config":{
            "session_params":[

            ]
         }
      }
   }
}