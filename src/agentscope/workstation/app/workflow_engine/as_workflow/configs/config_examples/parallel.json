{
   "name": "",
   "type":"workflow",
   "config":{
      "nodes":[
         {
            "id":"Start_wRdg",
            "name":"开始",
            "config":{
               "input_params":[

               ],
               "output_params":[
                  {
                     "key":"city",
                     "type":"String",
                     "desc":"城市"
                  },
                  {
                     "key":"date",
                     "type":"String",
                     "desc":"日期"
                  }
               ],
               "node_param":{

               }
            },
            "position":{
               "x":0,
               "y":0
            },
            "width":320,
            "type":"Start"
         },
         {
            "id":"End_3l8A",
            "name":"结束",
            "config":{
               "input_params":[

               ],
               "output_params":[

               ],
               "node_param":{
                  "output_type":"text",
                  "text_template":"${Parallel_vadf.p_output}\n${Parallel_vadf.p_output2}",
                  "json_params":[

                  ],
                  "stream_switch":true
               }
            },
            "position":{
               "x":1473.9999999999998,
               "y":-66.66666666666667
            },
            "width":320,
            "type":"End"
         },
         {
            "id":"Parallel_vadf",
            "name":"批处理1",
            "config":{
               "input_params":[
                  {
                     "key":"p_input1",
                     "value_from":"input",
                     "type":"Array<String>",
                     "value":"[\n  \"你\", \"你\", \"今天\"\n]"
                  },
                  {
                     "key":"p_input2",
                     "value_from":"input",
                     "type":"Array<String>",
                     "value":"[\n  \"好\", \"是谁\", \"天气如何\"\n]"
                  }
               ],
               "output_params":[
                  {
                     "key":"p_output",
                     "value_from":"refer",
                     "type":"Array<String>",
                     "value":"${LLM_285W.[output]}"
                  },
                  {
                     "key":"p_output2",
                     "value_from":"refer",
                     "type":"Array<String>",
                     "value":"${LLM_285W.[output]}"
                  }
               ],
               "node_param":{
                  "batch_size":3,
                  "concurrent_size":2,
                  "error_strategy":"terminated",
                  "block":{
                     "nodes":[
                        {
                           "id":"ParallelStart_1Vko",
                           "name":"并行开始",
                           "parent_id":"Parallel_vadf",
                           "config":{
                              "input_params":[

                              ],
                              "output_params":[

                              ],
                              "node_param":{

                              }
                           },
                           "position":{
                              "x":50,
                              "y":152
                           },
                           "width":200,
                           "type":"ParallelStart"
                        },
                        {
                           "id":"ParallelEnd_S7xZ",
                           "name":"并行结束",
                           "parent_id":"Parallel_vadf",
                           "config":{
                              "input_params":[

                              ],
                              "output_params":[

                              ],
                              "node_param":{

                              }
                           },
                           "position":{
                              "x":700,
                              "y":152
                           },
                           "width":200,
                           "type":"ParallelEnd"
                        },
                        {
                           "id":"LLM_285W",
                           "name":"大模型1",
                           "parent_id":"Parallel_vadf",
                           "config":{
                              "input_params":[

                              ],
                              "output_params":[
                                 {
                                    "key":"output",
                                    "type":"String",
                                    "desc":"文本输出"
                                 }
                              ],
                              "node_param":{
                                 "sys_prompt_content":"",
                                 "prompt_content":"${Parallel_vadf.p_input1}${Parallel_vadf.p_input2}",
                                 "short_memory":{
                                    "enabled":false,
                                    "type":"self",
                                    "round":3,
                                    "param":{
                                       "key":"historyList",
                                       "type":"Array<String>",
                                       "value_from":"refer"
                                    }
                                 },
                                 "model_config":{
                                    "model_id":"qwen-max",
                                    "model_name":"",
                                    "mode":"chat",
                                    "provider":"Tongyi",
                                    "params":[

                                    ],
                                    "vision_config":{
                                       "enable":false,
                                       "params":[
                                          {
                                             "key":"imageContent",
                                             "value_from":"refer",
                                             "type":"File"
                                          }
                                       ]
                                    }
                                 },
                                 "retry_config":{
                                    "retry_enabled":false,
                                    "max_retries":3,
                                    "retry_interval":500
                                 },
                                 "try_catch_config":{
                                    "strategy":"noop",
                                    "default_values":[
                                       {
                                          "key":"output",
                                          "type":"String",
                                          "desc":"文本输出"
                                       }
                                    ]
                                 }
                              }
                           },
                           "position":{
                              "x":315.33333333333326,
                              "y":146.33333333333337
                           },
                           "width":320,
                           "type":"LLM"
                        }
                     ],
                     "edges":[
                        {
                           "id":"ParallelStart_1Vko-ParallelStart_1Vko-LLM_285W-LLM_285W",
                           "source":"ParallelStart_1Vko",
                           "target":"LLM_285W",
                           "source_handle":"ParallelStart_1Vko",
                           "target_handle":"LLM_285W"
                        },
                        {
                           "id":"LLM_285W-LLM_285W-ParallelEnd_S7xZ-ParallelEnd_S7xZ",
                           "source":"LLM_285W",
                           "target":"ParallelEnd_S7xZ",
                           "source_handle":"LLM_285W",
                           "target_handle":"ParallelEnd_S7xZ"
                        }
                     ]
                  }
               }
            },
            "position":{
               "x":382.0000000000001,
               "y":-187.00000000000003
            },
            "width":960,
            "height":400,
            "type":"Parallel"
         }
      ],
      "edges":[
         {
            "id":"Start_wRdg-Start_wRdg-Parallel_vadf-Parallel_vadf",
            "source":"Start_wRdg",
            "target":"Parallel_vadf",
            "source_handle":"Start_wRdg",
            "target_handle":"Parallel_vadf"
         },
         {
            "id":"Parallel_vadf-Parallel_vadf-End_3l8A-End_3l8A",
            "source":"Parallel_vadf",
            "target":"End_3l8A",
            "source_handle":"Parallel_vadf",
            "target_handle":"End_3l8A"
         }
      ],
      "global_config":{
         "history_config":{
            "history_max_round":5,
            "history_switch":false
         },
         "variable_config":{
            "conversation_params":[

            ]
         }
      }
   }
}